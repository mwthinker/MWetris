syntax = "proto3";

package tetris_protocol;

enum BlockType {
	UNSPECIFIED = 0;
	I = 73;
	J = 74;
	L = 76;
	O = 79;
	S = 83;
	T = 84;
	Z = 90;
	EMPTY = 69;
	WALL = 87;
}

message PlayerName {
	string name = 1;
}

message Block {
	int32 start_column = 1;
	int32 lowest_start_row = 2;
	int32 rotations = 3;
	BlockType type = 4;
}

message Player {
	string name = 1;
	int32 level = 2;
	int32 points = 3;
	bool ai = 4;
	Block current = 5;
	BlockType next = 6;
	int32 id = 7;
	int32 width = 8;
	int32 height = 9;
	int32 cleared_rows = 10;
	repeated BlockType board = 11;
}

message Game {
	repeated Player player = 1;
}

message ConnectionInfo {
	repeated Player players = 1;
}

message PlayerCode {

}

message ConnectionStartBlock {
	BlockType current = 1;
	BlockType next = 2;
}

message PlayerLevel {
	int32 id = 1;
	int32 player_id = 2;
	int32 level = 3;
}

message PlayerTetris {
	string name = 1;
}

message PlayerMove {
	string name = 1;
}

message Restart {
	string name = 1;
}

message Pause {
	string name = 1;
}

message Connection {
	string name = 1;
}

message GameInfo {
	string text = 1;
	int32 width = 2;
	int32 height = 3;
}

message Wrapper {
	string text = 1;
	GameInfo game_info = 2;
}
